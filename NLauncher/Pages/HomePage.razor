@page "/"

@using NLauncher.Components.News
@using System.Collections.Immutable
@using NLauncher.Index.Models.News
@using NLauncher.Services.Index

@inject IndexService Index

<PageTitle>NLauncher - Home</PageTitle>

<NewsBanner News="@news" />

@code {
    private ImmutableArray<NewsEntry>? news;

    protected override async Task OnInitializedAsync()
    {
        news = (await Index.GetIndexAsync()).News;
    }
}