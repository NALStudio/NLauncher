@using NLauncher.Index.Enums
@using NLauncher.Index.Models.Applications
@using NLauncher.Index.Models.Index

<MudCard Class="pa-3" Style="width:512px;" Outlined Elevation="0">
    <!-- Icon -->
    @if (Entry is not null)
    {
        IndexAsset? icon = Entry.Assets.Closest(iconHeight, AssetType.Icon);
        if (icon is not null)
        {
            <MudCardMedia Image="@(icon.Url.ToString())" Height="@iconHeight" Style="background-size:contain" />
        }
    }
    else
    {
        <MudSkeleton SkeletonType="SkeletonType.Rectangle" Height="@($"{iconHeight}px")" />
    }

    <div style="height:16px;" />

    @if (Entry?.Manifest is AppManifest app)
    {
        <MudStack Row Justify="Justify.SpaceBetween">
            <MudText>Developer</MudText>
            <MudText>@(app.Developer)</MudText>
        </MudStack>
        <MudDivider Class="my-2" />
        <MudStack Row Justify="Justify.SpaceBetween">
            <MudText>Publisher</MudText>
            <MudText>@(app.Publisher)</MudText>
        </MudStack>
    }
</MudCard>

@code {
    private const int iconHeight = 64;

    [Parameter, EditorRequired]
    public required IndexEntry? Entry { get; set; }
}
